# ORM - object-relational mapping

Техника, позволяющая выполнять запросы и управлять данными
в БД используя объектно-ориентированный подход.

Применяя подобный подход не нужно использовать SQL, 
вы управляете объектами.

**Преимущества:**  
- Модели описываются в одном месте и ими легко управлять
- Много вещей автоматизировано
- Заставляет разделять код на model-view-controller (MVC)
подход, что делает его чище
- Использование готовых операторов и транзакций лекго также,
как вызов обычного метода

**Использование ORM более гибкое, т.к.**:  
- Данный подход позволяет абстрагировать систему БД, поэтому
её можно изменить где угодно.
- Модель слабо связана с другими частями приложения, поэтому
её можно легко изменять
- Такой подход позволяет использовать ООП, например наследование,
без головной боли

Но у ORM есть и свои минусы

**Недостатки:**  
- Необходимо изучение, ORM библиотеки не легковесные инструменты
- Необходимо настроить/подключить
- Производительность обычных запросов нормальная, но для больших
проектов собственноручно написанные запросы дают гораздо лучшую
скорость.
- Подход абстрагирует БД. Всё хорошо, если вы знаете, что происходит
за сценой. Но для новичков это проблема, если они будут писать
очень жадные операторы, как например тяжёлый for цикл.

### Пример

Для демонстрации используется C# и Entity Framework

Допустим, у нас есть таблица

```
create table students(
	id int(10),
    name varcar(100),
    surname varcar(100),
	age int(3),
)
```

Модель будет выглядеть следующим образом

```
public class Students
{
    public int id { get; set; }
    public string name { get; set; }
    public string surname { get; set; }
    public int age { get; set; }
}
```

Например, чтобы получить данные в SQL:

```
Select * from students
Where age > 20
Order by surname
```

И в ООП

```
var students = db.Students
	.Where(b => b.Age > 20)
	.OrderBy(b => b.surname)
	.ToList();
```

Пример добавления новых данных:

```
Insert into students (name, surname, age)
Values ('Ivan', 'Ivanov', 21);
```

```
var student = new Student ( name = 'Ivan', 
surname = 'Ivanov', age = 21);
db.Students.Add(blog);
db.SaveChanges();
```


# Tutorial

**Миграция**  
EntityFrameworkCore\Add-Migration Initial  
EntityFrameworkCore\Update-Database
